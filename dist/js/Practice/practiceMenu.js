import*as utilMethods from"../utils.js";import{state}from"../state.js";import*as questionLogic from"../sharedQuestionLogic.js";window.onload=function(){var e,t,a=document.getElementById("operator-menu-forward"),i=[document.getElementById("operator-practice-menu-backward-upper"),document.getElementById("operator-practice-menu-backward-lower")],c=document.getElementById("difficulty-menu-forward"),o=[document.getElementById("difficulty-menu-backward-upper"),document.getElementById("difficulty-menu-backward-lower")],r=document.querySelectorAll(".activity-choice"),s=document.querySelectorAll(".practice-choice");const l=document.querySelectorAll(".operator-choice"),n=document.getElementById("operator-alert-modal"),d=document.getElementById("operator-menu-container"),u=document.getElementById("practice-menu-container"),m=document.getElementById("difficulty-menu-container");a.addEventListener("click",e=>{state.activeOperators=function(a){let i=[],c=0;for(let t=0;t<4;t++)if(a[t].classList.contains("active-operator")){let e;switch(a[t].getAttribute("id")){case"add":e="+";break;case"sub":e="-";break;case"mul":e="x";break;case"div":e="รท";break;default:e="+"}state.activeOperators.push(e),i.push(e),c++}return i}(l),sessionStorage.setItem("activeOperators",state.activeOperators),0==state.activeOperators.length?utilMethods.visibilityTimedToggle(!0,n,1100):utilMethods.changeViewRight(d,m)});for(e of i)e.addEventListener("click",e=>{utilMethods.changeViewLeft(u,d)});for(t of o)t.addEventListener("click",e=>{utilMethods.changeViewLeft(d,m)});function g(e){e.target.classList.toggle("active-operator")}c.addEventListener("click",e=>{{let e=state.activeDifficulty,t,a;switch(e){case 1:t=5,a=0;break;case 2:t=6,a=1;break;case 3:t=8,a=2;break;case 4:t=10,a=3;break;case 5:t=12,a=3}sessionStorage.setItem("activeMulitplyLowVal",a),sessionStorage.setItem("activeMultiplyHighVal",t),sessionStorage.setItem("activeDifficulty",e),state.activeMultiplyLowVal=a,state.activeMultiplyHighVal=t,sessionStorage.setItem("activeHighVal",10*e),state.activeHighVal=10*e}"multiple-choice"===sessionStorage.getItem("activity")?window.location.href="/multiple-choice":"flash"===sessionStorage.getItem("activity")&&(window.location.href="/flash")});var f,v=r;for(let a of v)a.addEventListener("click",e=>{v.forEach(e=>e.classList.remove("activity-selected"));let t;t=(e.target.getAttribute("data-type")?e.target:e.target.parentNode).getAttribute("data-type"),a.classList.add("activity-selected")});for(f of l)f.addEventListener("click",g);var y=s;for(let a of y)a.addEventListener("click",e=>{y.forEach(e=>e.classList.remove("activity-selected"));let t;t=(e.target.getAttribute("data-type")?e.target:e.target.parentNode).getAttribute("data-type"),a.classList.add("activity-selected")});var p=document.getElementById("range-input"),h=document.getElementById("range-value"),E=document.getElementById("level-text");p.addEventListener("input",()=>{var e=parseInt(p.value),t=(state.activeDifficulty=e,h.textContent=e,state.difficultyLevels[e].color);p.style.setProperty("--thumb-color",t),E.textContent=state.difficultyLevels[e].name})};