import*as utilMethods from"../utils.js";import{state}from"../state.js";window.onload=function(){document.getElementById("operator-menu-forward");var t=[document.getElementById("operator-practice-menu-backward-lower")],e=document.getElementById("difficulty-menu-forward"),a=[document.getElementById("difficulty-menu-backward-lower")],i=document.querySelectorAll(".activity-choice"),r=document.querySelectorAll(".practice-choice");const c=document.querySelectorAll(".operator-choice");var o,s;document.getElementById("operator-alert-modal");const l=document.getElementById("operator-menu-container"),n=document.getElementById("practice-menu-container"),d=document.getElementById("difficulty-menu-container");for(o of t)o.addEventListener("click",t=>{utilMethods.changeViewLeft(n,l)});for(s of a)s.addEventListener("click",t=>{utilMethods.changeViewLeft(l,d)});e.addEventListener("click",t=>{{let t=state.activeDifficulty,e,a;switch(t){case 1:e=5,a=0;break;case 2:e=6,a=1;break;case 3:e=8,a=2;break;case 4:e=10,a=3;break;case 5:e=12,a=3}sessionStorage.setItem("activeMulitplyLowVal",a),sessionStorage.setItem("activeMultiplyHighVal",e),sessionStorage.setItem("activeDifficulty",t),state.activeMultiplyLowVal=a,state.activeMultiplyHighVal=e,sessionStorage.setItem("activeHighVal",10*t),state.activeHighVal=10*t}"multiple-choice"===sessionStorage.getItem("activity")?window.location.href="/multiple-choice":"flash"===sessionStorage.getItem("activity")&&(window.location.href="/flash")});var u=i;for(let a of u)a.addEventListener("click",t=>{u.forEach(t=>t.classList.remove("activity-selected"));let e;e=(t.target.getAttribute("data-type")?t.target:t.target.parentNode).getAttribute("data-type"),a.classList.add("activity-selected")});var m=c;for(let a of m)a.addEventListener("click",t=>{m.forEach(t=>t.classList.remove("active-operator"));let e;e=(t.target.getAttribute("data-sub")?t.target:t.target.parentNode).getAttribute("data-sub"),a.classList.add("active-operator"),state.activeOperators=function(a){let i=[],r=0;for(let e=0;e<4;e++)if(a[e].classList.contains("active-operator")){let t;switch(a[e].getAttribute("id")){case"add":t="+";break;case"sub":t="-";break;case"mul":t="x";break;case"div":t="รท";break;default:t="+"}state.activeOperators.push(t),i.push(t),r++}return i}(c),sessionStorage.setItem("activeOperators",state.activeOperators),utilMethods.updateOperatorSelected(state.activeOperators),utilMethods.changeViewRight(l,d)});var v=r;for(let a of v)a.addEventListener("click",t=>{v.forEach(t=>t.classList.remove("activity-selected"));let e;e=(t.target.getAttribute("data-type")?t.target:t.target.parentNode).getAttribute("data-type"),a.classList.add("activity-selected")});var g=document.getElementById("range-input"),f=document.getElementById("range-value"),p=document.getElementById("level-text");g.addEventListener("input",()=>{var t=parseInt(g.value),e=(state.activeDifficulty=t,f.textContent=t,state.difficultyLevels[t].color);g.style.setProperty("--thumb-color",e),p.textContent=state.difficultyLevels[t].name})};